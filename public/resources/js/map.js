$(function(){
    //init the map
    var myLatLng = new google.maps.LatLng(31.7833, 35.2167);

    var mapOptions = {
        center: myLatLng,
        zoom: 8,
        mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map($("#map").get(0),
        mapOptions);

    var marker = new google.maps.Marker({
        position: myLatLng,
        map: map,
        title:"Hello World!"
    });


    var initMapPlaces = function(map){
        var overlay;
        var coords = [];
        var str = "32.034126281738,34.73705291748 32.047077178955,34.741516113281 32.049697875977,34.740829467773 32.065120697021,34.727783203125 32.07719039917,34.737567901611 32.080829620361,34.74494934082 32.089553833008,34.749755859375 32.102352142334,34.741516113281 32.112823486328,34.755249023438 32.116310119629,34.757995605469 32.125469207764,34.763832092285 32.129104614258,34.779281616211 32.130847930908,34.781341552734 32.141242980957,34.78889465332 32.145313262939,34.791126251221 32.143859863281,34.791469573975 32.141098022461,34.792327880859 32.130702972412,34.805629730225 32.127796173096,34.811210632324 32.120964050293,34.821166992188 32.123107910156,34.832408905029 32.122779846191,34.836185455322 32.121036529541,34.841251373291 32.116111755371,34.843887329102 32.112823486328,34.859104156494 32.105480194092,34.87283706665 32.103225708008,34.872577667236 32.089847564697,34.860649108887 32.08366394043,34.860305786133 32.073482513428,34.860134124756 32.070247650146,34.859340667725 32.062789916992,34.859359741211 32.052051544189,34.860168457031 32.039512634277,34.850177764893 32.034271240234,34.837474822998 32.017608642578,34.822196960449 32.017681121826,34.820137023926 32.022975921631,34.802539825439 32.020885467529,34.798934936523 32.019584655762,34.790000915527 32.015354156494,34.784603118896 32.012588500977,34.777393341064 32.007785797119,34.767780303955 32.003707885742,34.763145446777 31.991188049316,34.756622314453 31.995483398438,34.73876953125 31.978593826294,34.73482131958 31.979103088379,34.724178314209 31.995119094849,34.729499816895 31.996429443359,34.729328155518 32.008949279785,34.716110229492 32.019863128662,34.728813171387 32.02961730957,34.733963012695 32.034126281738,34.73705291748";
        var stringCoords = str.split(" ");

        $.each(stringCoords, function(i, word) {
            var latLng = new google.maps.LatLng(Number(word.substring(0, word.indexOf(","))), Number(word.substring(word.indexOf(",") + 1)));
            coords.push(latLng);
        });

        // Construct the polygon
        // Note that we don't specify an array or arrays, but instead just
        // a simple array of LatLngs in the paths property
        overlay = new google.maps.Polygon({
            paths: coords,
            strokeColor: "#FF0000",
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: "#FF0000",
            fillOpacity: 0.35
        });

        overlay.setMap(map);
    }

    $(window).ready(function(){
        initMapPlaces(map);
    });
});